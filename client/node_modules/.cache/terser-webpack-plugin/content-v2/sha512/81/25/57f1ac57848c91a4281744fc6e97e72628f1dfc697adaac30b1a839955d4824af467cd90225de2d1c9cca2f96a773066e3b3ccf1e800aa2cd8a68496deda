{"map":{"version":3,"sources":["static/js/main.91ec1826.chunk.js"],"names":["this","push","38","module","exports","__webpack_require__","45","74","78","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_alert","react_alert_template_oldschool_dark","classCallCheck","createClass","possibleConstructorReturn","getPrototypeOf","assertThisInitialized","inherits","lib","socket","lib_default","callback","joined","myId","joinRoom","data","console","log","emit","action","room_id","on","payload","fetch_npm_browserify","fetch_npm_browserify_default","App_App","_Component","App","props","_this","cb","Object","call","state","number","text","incomingMessage","incomingMessagePayload","onNumberChange","bind","onTextChange","onReset","onSend","handleIncomingMessage","key","value","e","setState","target","_this2","test","endpoint","method","arguments","length","undefined","body","headers","content-type","fetchUrl","concat","JSON","stringify","then","response","json","_ref","ok","Promise","reject","error","callApi","status","alert","success","description","catch","err","info","From","a","createElement","style","padding","className","marginTop","type","id","placeholder","onChange","rows","float","onClick","disabled","marginRight","role","Body","FromCountry","FromCity","FromState","src_App","Boolean","window","location","hostname","match","options","position","TOP_RIGHT","timeout","offset","transition","SCALE","connect","render","assign","template","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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"},"code":"(this.webpackJsonpminiapp=this.webpackJsonpminiapp||[]).push([[0],{38:function(e,t,n){e.exports=n(78)},45:function(e,t,n){},74:function(e,t){},78:function(e,t,n){\"use strict\";n.r(t);var a=n(0),o=n.n(a),s=n(5),r=n.n(s),i=n(6),c=n(30),l=(n(45),n(31)),m=n(32),u=n(36),d=n(33),g=n(3),h=n(37),p=n(34),b=n.n(p)()(\"\");var f,v=!1,y=\"\";function E(e){console.log(\"Trying to join room socket\",e),y=e,v||(b.emit(\"message\",{action:\"join_room\",room_id:e}),v=!0)}b.on(\"connect\",(function(){console.log(\"Setting Socket Status to true\"),\"\"!==y&&E(y)})),b.on(\"disconnect\",(function(){v=!1})),b.on(\"message\",(function(e){console.log(\"socket event received\",e),f(e.payload)}));var x=n(35),N=n.n(x);var j=function(e){function t(e){var n,a;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={number:\"\",text:\"\",incomingMessage:!1,incomingMessagePayload:{}},n.onNumberChange=n.onNumberChange.bind(Object(g.a)(n)),n.onTextChange=n.onTextChange.bind(Object(g.a)(n)),n.onReset=n.onReset.bind(Object(g.a)(n)),n.onSend=n.onSend.bind(Object(g.a)(n)),n.handleIncomingMessage=n.handleIncomingMessage.bind(Object(g.a)(n)),E(\"7wi1i073s7in9c0visminiapp\"),a=n.handleIncomingMessage,f=a,n}return Object(h.a)(t,e),Object(m.a)(t,[{key:\"onNumberChange\",value:function(e){this.setState({number:e.target.value})}},{key:\"onTextChange\",value:function(e){this.setState({text:e.target.value})}},{key:\"onReset\",value:function(){this.setState({number:\"\",text:\"\"})}},{key:\"onSend\",value:function(){var e=this;/\\+(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*(\\d{1,14})$/g.test(this.state.number)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"get\",n=arguments.length>2?arguments[2]:void 0;console.log(\"body before sending\",n);var a={\"content-type\":\"application/json\"},o=\"/api/\".concat(e);return N()(o,{headers:a,method:t,body:JSON.stringify(n)}).then((function(e){return e})).then((function(e){return e.json().then((function(t){return{json:t,response:e}}))})).then((function(e){var t=e.json;return e.response.ok?t:Promise.reject(t)})).then((function(e){return e}),(function(e){return e}))}(\"twilio/sendMessage\",\"post\",{number:this.state.number,text:this.state.text}).then((function(t){\"success\"===t.status?(e.onReset(),e.props.alert.success(t.description)):e.props.alert.error(t.description)})).catch((function(t){console.log(\"sendMessage error\",t),e.props.alert.error(\"An unexpected error occured. Please try again later.\")})):this.props.alert.error(\"Please provide a valid number of format E.164\")}},{key:\"handleIncomingMessage\",value:function(e){this.props.alert.info(\"A new message came from \".concat(e.From)),this.setState({incomingMessagePayload:e,incomingMessage:!0})}},{key:\"render\",value:function(){return o.a.createElement(\"div\",{style:{padding:\"20px\"},className:\"container\"},o.a.createElement(\"h3\",null,\"Covid-19 Mini App\"),o.a.createElement(\"div\",{style:{marginTop:\"35px\"}}),o.a.createElement(\"div\",{className:\"row\"},o.a.createElement(\"div\",{className:\"col-6\"},o.a.createElement(\"div\",{className:\"form-group row\"},o.a.createElement(\"label\",{className:\"col-sm-4 col-form-label\"},\"Recipient Number\"),o.a.createElement(\"div\",{className:\"col-sm-8\"},o.a.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"_input_number\",placeholder:\"Enter number here...\",value:this.state.number,onChange:this.onNumberChange}))),o.a.createElement(\"div\",{className:\"md-form\"},o.a.createElement(\"textarea\",{id:\"_text_area\",className:\"md-textarea form-control\",rows:\"3\",placeholder:\"Type your message here...\",value:this.state.text,onChange:this.onTextChange})),o.a.createElement(\"div\",{style:{padding:\"20px 0px\"}},o.a.createElement(\"button\",{style:{float:\"right\"},type:\"button\",className:\"btn btn-primary\",onClick:this.onSend,disabled:!this.state.number||!this.state.text},\"Send\"),o.a.createElement(\"button\",{style:{float:\"right\",marginRight:\"10px\"},type:\"button\",className:\"btn btn-light\",onClick:this.onReset,disabled:!this.state.number||!this.state.text},\"Reset\"))),this.state.incomingMessage&&o.a.createElement(\"div\",{className:\"col-6\"},o.a.createElement(\"div\",{className:\"alert alert-success\",role:\"alert\"},o.a.createElement(\"h4\",{className:\"alert-heading\"},\"Message from \",this.state.incomingMessagePayload.From),o.a.createElement(\"p\",null,this.state.incomingMessagePayload.Body),o.a.createElement(\"hr\",null),o.a.createElement(\"p\",{className:\"mb-0\"},\"Country: \",this.state.incomingMessagePayload.FromCountry),o.a.createElement(\"p\",{className:\"mb-0\"},\"City: \",this.state.incomingMessagePayload.FromCity),o.a.createElement(\"p\",{className:\"mb-0\"},\"State: \",this.state.incomingMessagePayload.FromState)))))}}]),t}(a.Component),C=Object(i.d)()(j);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M={position:i.b.TOP_RIGHT,timeout:5e3,offset:\"30px\",transition:i.c.SCALE};b.connect();r.a.render(o.a.createElement((function(){return o.a.createElement(i.a,Object.assign({template:c.a},M),o.a.createElement(C,null))}),null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);","extractedComments":[]}