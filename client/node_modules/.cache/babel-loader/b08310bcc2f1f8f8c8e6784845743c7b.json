{"ast":null,"code":"import io from 'socket.io-client';\nconst socket = io('');\nexport function initiateSocket() {\n  socket.connect();\n}\nlet joined = false;\nlet myId = '';\nexport function joinRoom(data) {\n  console.log('Trying to join room socket', data);\n  myId = data;\n\n  if (joined) {\n    return;\n  }\n\n  socket.emit('message', {\n    action: 'join_room',\n    room_id: data\n  });\n  joined = true;\n}\nsocket.on('connect', () => {\n  console.log('Setting Socket Status to true');\n\n  if (myId !== '') {\n    joinRoom(myId);\n  }\n});\nsocket.on('disconnect', () => {\n  joined = false;\n});\nsocket.on('message', data => {\n  console.log('socket event received', data);\n});","map":{"version":3,"sources":["/Users/cloudkibo/Kibo/miniapp/client/src/socket/index.js"],"names":["io","socket","initiateSocket","connect","joined","myId","joinRoom","data","console","log","emit","action","room_id","on"],"mappings":"AAAA,OAAOA,EAAP,MAAe,kBAAf;AACA,MAAMC,MAAM,GAAGD,EAAE,CAAC,EAAD,CAAjB;AAEA,OAAO,SAASE,cAAT,GAA2B;AAChCD,EAAAA,MAAM,CAACE,OAAP;AACD;AAED,IAAIC,MAAM,GAAG,KAAb;AACA,IAAIC,IAAI,GAAG,EAAX;AAEA,OAAO,SAASC,QAAT,CAAmBC,IAAnB,EAAyB;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CF,IAA1C;AACAF,EAAAA,IAAI,GAAGE,IAAP;;AACA,MAAIH,MAAJ,EAAY;AACV;AACD;;AACDH,EAAAA,MAAM,CAACS,IAAP,CAAY,SAAZ,EAAuB;AACrBC,IAAAA,MAAM,EAAE,WADa;AAErBC,IAAAA,OAAO,EAAEL;AAFY,GAAvB;AAIAH,EAAAA,MAAM,GAAG,IAAT;AACD;AAEDH,MAAM,CAACY,EAAP,CAAU,SAAV,EAAqB,MAAM;AACzBL,EAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;;AACA,MAAIJ,IAAI,KAAK,EAAb,EAAiB;AACfC,IAAAA,QAAQ,CAACD,IAAD,CAAR;AACD;AACF,CALD;AAOAJ,MAAM,CAACY,EAAP,CAAU,YAAV,EAAwB,MAAM;AAC5BT,EAAAA,MAAM,GAAG,KAAT;AACD,CAFD;AAIAH,MAAM,CAACY,EAAP,CAAU,SAAV,EAAsBN,IAAD,IAAU;AAC7BC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,IAArC;AACD,CAFD","sourcesContent":["import io from 'socket.io-client'\nconst socket = io('')\n\nexport function initiateSocket () {\n  socket.connect()\n}\n\nlet joined = false\nlet myId = ''\n\nexport function joinRoom (data) {\n  console.log('Trying to join room socket', data)\n  myId = data\n  if (joined) {\n    return\n  }\n  socket.emit('message', {\n    action: 'join_room',\n    room_id: data\n  })\n  joined = true\n}\n\nsocket.on('connect', () => {\n  console.log('Setting Socket Status to true')\n  if (myId !== '') {\n    joinRoom(myId)\n  }\n})\n\nsocket.on('disconnect', () => {\n  joined = false\n})\n\nsocket.on('message', (data) => {\n  console.log('socket event received', data)\n})\n"]},"metadata":{},"sourceType":"module"}