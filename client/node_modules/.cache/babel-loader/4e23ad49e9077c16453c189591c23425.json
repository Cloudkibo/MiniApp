{"ast":null,"code":"var _jsxFileName = \"/Users/cloudkibo/Kibo/miniapp/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { withAlert } from 'react-alert';\nimport { joinRoom } from './socket';\nimport callApi from './global/callApi';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      number: '',\n      text: ''\n    };\n    this.onNumberChange = this.onNumberChange.bind(this);\n    this.onTextChange = this.onTextChange.bind(this);\n    this.onReset = this.onReset.bind(this);\n    this.onSend = this.onSend.bind(this);\n    joinRoom('7wi1i073s7in9c0visminiapp');\n  }\n\n  onNumberChange(e) {\n    this.setState({\n      number: e.target.value\n    });\n  }\n\n  onTextChange(e) {\n    this.setState({\n      text: e.target.value\n    });\n  }\n\n  onReset() {\n    this.setState({\n      number: '',\n      text: ''\n    });\n  }\n\n  onSend() {\n    // eslint-disable-next-line\n    const regexp = /\\+(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*(\\d{1,14})$/g;\n\n    if (regexp.test(this.state.number)) {\n      callApi('sendMessage', 'post', {\n        number: this.state.number,\n        text: this.state.text\n      }).then(response => {\n        if (response.status === 'success') {\n          this.props.alert.success(response.description);\n        } else {\n          this.props.alert.error(response.description);\n        }\n      }).catch(err => {\n        console.log('sendMessage error', err);\n        this.props.alert.error('An unexpected error occured. Please try again later.');\n      });\n    } else {\n      this.props.alert.error('Please provide a valid number of format E.164');\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Covis Mini App\"), React.createElement(\"div\", {\n      style: {\n        marginTop: '35px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-4 col-form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Recipient Number\"), React.createElement(\"div\", {\n      className: \"col-sm-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"_input_number\",\n      placeholder: \"Enter number here...\",\n      value: this.state.number,\n      onChange: this.onNumberChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"md-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      id: \"_text_area\",\n      className: \"md-textarea form-control\",\n      rows: \"3\",\n      placeholder: \"Type your message here...\",\n      value: this.state.text,\n      onChange: this.onTextChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        padding: '20px 0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        float: 'right'\n      },\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.onSend,\n      disabled: !this.state.number || !this.state.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Send\"), React.createElement(\"button\", {\n      style: {\n        float: 'right',\n        marginRight: '10px'\n      },\n      type: \"button\",\n      className: \"btn btn-light\",\n      onClick: this.onReset,\n      disabled: !this.state.number || !this.state.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Reset\")))));\n  }\n\n}\n\nexport default withAlert()(App);","map":{"version":3,"sources":["/Users/cloudkibo/Kibo/miniapp/client/src/App.js"],"names":["React","Component","withAlert","joinRoom","callApi","App","constructor","props","state","number","text","onNumberChange","bind","onTextChange","onReset","onSend","e","setState","target","value","regexp","test","then","response","status","alert","success","description","error","catch","err","console","log","render","padding","marginTop","float","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withAlert } from 'react-alert'\nimport { joinRoom } from './socket'\nimport callApi from './global/callApi'\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      number: '',\n      text: ''\n    }\n    this.onNumberChange = this.onNumberChange.bind(this)\n    this.onTextChange = this.onTextChange.bind(this)\n    this.onReset = this.onReset.bind(this)\n    this.onSend = this.onSend.bind(this)\n\n    joinRoom('7wi1i073s7in9c0visminiapp')\n  }\n\n  onNumberChange (e) {\n    this.setState({number: e.target.value})\n  }\n\n  onTextChange (e) {\n    this.setState({text: e.target.value})\n  }\n\n  onReset () {\n    this.setState({number: '', text: ''})\n  }\n\n  onSend () {\n    // eslint-disable-next-line\n    const regexp = /\\+(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*\\d\\W*(\\d{1,14})$/g\n    if (regexp.test(this.state.number)) {\n      callApi('sendMessage', 'post', {number: this.state.number, text: this.state.text})\n        .then(response => {\n          if (response.status === 'success') {\n            this.props.alert.success(response.description)\n          } else {\n            this.props.alert.error(response.description)\n          }\n        })\n        .catch(err => {\n          console.log('sendMessage error', err)\n          this.props.alert.error('An unexpected error occured. Please try again later.')\n        })\n    } else {\n      this.props.alert.error('Please provide a valid number of format E.164')\n    }\n  }\n\n  render () {\n    return (\n      <div style={{padding: '20px'}} className=\"container\">\n        <h3>Covis Mini App</h3>\n        <div style={{marginTop: '35px'}} />\n        <div className='row'>\n          <div className='col-6'>\n            <div className=\"form-group row\">\n              <label className=\"col-sm-4 col-form-label\">\n                Recipient Number\n              </label>\n              <div className=\"col-sm-8\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"_input_number\"\n                  placeholder='Enter number here...'\n                  value={this.state.number}\n                  onChange={this.onNumberChange}\n                />\n              </div>\n            </div>\n            <div className=\"md-form\">\n              <textarea\n                id=\"_text_area\"\n                className=\"md-textarea form-control\"\n                rows=\"3\"\n                placeholder='Type your message here...'\n                value={this.state.text}\n                onChange={this.onTextChange}\n              />\n            </div>\n            <div style={{padding: '20px 0px'}}>\n              <button\n                style={{float: 'right'}}\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={this.onSend}\n                disabled={!this.state.number || !this.state.text}\n              >\n                Send\n              </button>\n              <button\n                style={{float: 'right', marginRight: '10px'}}\n                type=\"button\"\n                className=\"btn btn-light\"\n                onClick={this.onReset}\n                disabled={!this.state.number || !this.state.text}\n              >\n                Reset\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withAlert()(App)\n"]},"metadata":{},"sourceType":"module"}